<!-- APIs.yaml -->
<center>
<table cellpadding="3" cellspacing="2" width="100%" border="0" style="margin-top: 0px; margin-left: 30px; margin-right: 30px;">

{% assign service_count = 0 %}
{% assign path_count = 0 %}
{% assign apijson = site.data.apis %}
{% assign contents = site.data.api-commons %}

{% for api in apijson.include %}

  {% assign path = api.url  | replace: site.raw_url,'' %}
  {% assign path = path  | replace: '/apis.yaml','' %}

  {% for api in contents %}

    {% assign api_name = api[0] %}
    {% assign folder = api[1] %}

    {% if api_name == path %}

      <!--- Begin --->

      {% for item in folder %}

        {% assign item_name = item[0] %}

        {% if item_name == 'apis' %}

          {% assign apijson = item[1] %}

          {% assign api_name = apijson.name %}
          {% assign api_description = apijson.description %}
          {% assign api_image = apijson.image %}
          {% assign api_json_url = apijson.url %}

          {% assign blog_url = '' %}
          {% assign blogrss_url = '' %}
          {% assign portal_url = '' %}
          {% assign gitub_url = '' %}
          {% assign twitter_url = '' %}
          {% assign website_url = '' %}
          {% assign getting_started_url = '' %}
          {% assign authentication_url = '' %}
          {% assign faq_url = '' %}
          {% assign login_url = '' %}
          {% assign signup_url = '' %}
          {% assign documentation_url = '' %}
          {% assign code_page_url = '' %}
          {% assign road_map_url = '' %}
          {% assign issue_url = '' %}
          {% assign change_log_url = '' %}
          {% assign status_dashboard_url = '' %}
          {% assign support_url = '' %}
          {% assign plan_url = '' %}
          {% assign rate_limit_url = '' %}
          {% assign terms_of_service_url = '' %}
          {% assign privacy_policy_url = '' %}

          {% for common in apijson.x-common %}

            {% if common.type == 'x-portal' %}
              {% assign portal_url = common.url %}
            {% endif %}

            {% if common.type == 'x-website' %}
              {% assign website_url = common.url %}
            {% endif %}

            {% if portal_url == '' %}
              {% assign portal_url = website_url %}
            {% endif %}

            {% if common.type == 'x-getting-started' %}
              {% assign getting_started_url = common.url %}
            {% endif %}
            {% if common.type == 'x-authentication-overview' %}
              {% assign authentication_url = common.url %}
            {% endif %}
            {% if common.type == 'x-faq' %}
              {% assign faq_url = common.url %}
            {% endif %}

            {% if common.type == 'x-login' %}
              {% assign login_url = common.url %}
            {% endif %}

            {% if common.type == 'x-selfservice-registration' %}
              {% assign signup_url = common.url %}
            {% endif %}

            {% if common.type == 'x-documentation' %}
              {% assign documentation_url = common.url %}
            {% endif %}

            {% if common.type == 'x-code-page' %}
              {% assign code_page_url = common.url %}
            {% endif %}

            {% if common.type == 'x-road-map' %}
              {% assign road_map_url = common.url %}
            {% endif %}
            {% if common.type == 'x-issues' %}
              {% assign issue_url = common.url %}
            {% endif %}
            {% if common.type == 'x-change-log' %}
              {% assign change_log_url = common.url %}
            {% endif %}
            {% if common.type == 'x-status' %}
              {% assign status_dashboard_url = common.url %}
            {% endif %}

            {% if common.type == 'x-support' %}
              {% assign support_url = common.url %}
            {% endif %}

            {% if common.type == 'x-blog' %}
              {% assign blog_url = common.url %}
            {% endif %}

            {% if common.type == 'x-blog-rss' %}
              {% assign blogrss_url = common.url %}
            {% endif %}

            {% if common.type == 'x-twitter' %}
              {% assign twitter_url = common.url %}
            {% endif %}

            {% if common.type == 'x-github' %}
              {% assign gitub_url = common.url %}
            {% endif %}

            {% if common.type == 'x-signup' %}
              {% assign gitub_url = common.url %}
            {% endif %}

            {% if common.type == 'x-dedicated-plans--pricing-page' %}
              {% assign plan_url = common.url %}
            {% endif %}
            {% if common.type == 'x-rate-limit' %}
              {% assign rate_limit_url = common.url %}
            {% endif %}

            {% if common.type == 'x-terms-of-service-page' %}
              {% assign terms_of_service_url = common.url %}
            {% endif %}
            {% if common.type == 'x-privacy-policy-page' %}
              {% assign privacy_policy_url = common.url %}
            {% endif %}

          {% endfor %}

          <tr style="background-color:#FFF; border-color:#FFF;">
            <td style="background-color:#FFF; border-color:#FFF;" valign="top" width="60%">
              {% assign service_count = service_count | plus: 1 %}
              <p><img src="{{ api_image }}" width="100" style="padding: 10px;" align="left" /></p>
              <p><span style="font-size: 14px; font-weight: bold">{{ api_name }}</span><br /><span style="font-size: 12px;">{{ api_description }}</span><p>
            </td>
            <td style="background-color:#FFF; border-color:#FFF;" valign="middle" width="40%" align="right">

              <ul style="list-style: none; display: inline; padding-top: 15px;">
                {% if portal_url != '' %}
                  <li style="display: inline; padding-left: 15px; padding-right: 15px;">
                    <a href="{{ portal_url }}" target="_blank" title="Portal">
                      <img src="https://s3.amazonaws.com/kinlane-productions/bw-icons/bw-portal-developers.jpg" width="38" align="center" />
                    </a>
                  </li>
                {% endif %}
                {% if blog_url != '' && blog_url != empty && blog_url != null %}
                  <li style="display: inline; padding-left: 15px; padding-right: 15px;">
                    <a href="{{ blog_url }}" target="_blank" title="Blog">
                      <img src="https://s3.amazonaws.com/kinlane-productions/bw-icons/bw-blog-icon.png" width="35" align="center" />
                    </a>
                  </li>
                {% endif %}

                {% if blogrss_url != '' && blogrss_url != empty && blogrss_url != null %}
                  <li style="display: inline; padding-left: 15px; padding-right: 15px;">
                    <a href="{{ blogrss_url }}" target="_blank" title="Blog RSS">
                      <img src="https://s3.amazonaws.com/kinlane-productions/bw-icons/bw-rss-icon.png" width="35" align="center" />
                    </a>
                  </li>
                {% endif %}

                {% if twitter_url != '' && twitter_url != empty && twitter_url != null %}
                  <li style="display: inline; padding-left: 15px; padding-right: 15px;">
                    <a href="{{ twitter_url }}" target="_blank" title="Twitter">
                      <img src="https://s3.amazonaws.com/kinlane-productions/bw-icons/bw-twitter-icon.png" width="44" align="center" />
                    </a>
                  </li>
                {% endif %}

                {% if gitub_url != '' && gitub_url != empty && gitub_url != null %}
                  <li style="display: inline; padding-left: 15px; padding-right: 15px;">
                    <a href="{{ gitub_url }}" target="_blank" title="Github">
                      <img src="https://s3.amazonaws.com/kinlane-productions/bw-icons/bw-github-icon.png" width="52" align="center" />
                    </a>
                  </li>
                {% endif %}

                <li style="display: inline; padding-left: 15px; padding-right: 15px;">
                  <a href="{{ api_json_url }}" target="_blank" title="APIs.json Index">
                    <img src="http://kinlane-productions.s3.amazonaws.com/api-evangelist-site/blog/api-icon.jpg" width="50" align="center" />
                  </a>
                </li>

              </ul>

              </td>
            </tr>
            {% assign api_action_url = '' %}
            {% assign numberofapis = apijson.apis | size %}

            {% if numberofapis > 0 %}
              <tr style="background-color:#FFF; border-color:#FFF;">
                <td style="background-color:#FFF; border-color:#FFF; padding-left: 100px;" colspan="3">
                  <ul>
                    {% for api in apijson.apis %}
                      <li>{{ api.name }}{% if openapi_spec_url != null and openapi_spec_url != empty %}(<a href="{{ openapi_spec_url }}" target="_blank" title="View OpenAPI Spec" style="font-size: 16px; font-weight: normal;">OpenAPI Spec</a>){% endif %}
                    {% endfor %}
                  </ul>
                </td>
              </tr>
            {% endif %}

        {% endif %}
      {% endfor %}

    {% endif %}

  {% endfor %}

{% endfor %}

</table>
</center>
