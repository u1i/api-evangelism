---
layout: post
title: 'A Simple Walkthrough Of How To Deploy A 4th of July Fireworks API Using A Google Spreadsheet And APISpark'
source: http://apievangelist.com/2015/07/06/a-simple-walkthrough-of-how-to-deploy-a-4th-of-july-fireworks-api-using-a-google-spreadsheet-and-apispark/
domain: apievangelist.com
image: https://s3.amazonaws.com/kinlane-productions/api-evangelist/restlet/Restlet-whiteBg.png
---

<p><a href="http://restlet.com"><img style="padding: 15px;" src="https://s3.amazonaws.com/kinlane-productions/api-evangelist/restlet/Restlet-whiteBg.png" alt="" width="225" align="right" /></a></p>
<p><em>This is a guest post by&nbsp;Guillaume Laforge (<a href="https://twitter.com/glaforge">@glaforge</a>) of <a href="http://restlet.com">Restlet</a>. He did a very cool API deployment project over the holiday weekend, as was good enough to share the details of his project as a story. I've been trying to make time to do more of these simple how-to API deployment guides like this, so I'm always happy to guest post these when they help users understand that they can deploy APIs--no developer necessary.</em></p>
<p>For the 4th of July, to celebrate the United States&rsquo; Independence Day, <a href="http://restlet.com">Restlet</a> built a fun little website and API to list all the <a href="https://fireworks.apispark.net/v1/html/index.html">fireworks in your area</a>. You can see all the states where fireworks have been found, and lists of towns in those states where those fireworks were taking place. Furthermore, there&rsquo;s a Google Sheets form that you can fill in to submit fireworks in your area that were not mentioned.</p>
<p>This fireworks app is actually an API with an associated website served by APISpark, using a Google Sheets wrapper for storing the data and receiving form submissions, and a Github file store wrapper to deliver the HTML / CSS / JavaScript assets. In this blog post, I will explain how to make your own APIs with their associated web elements.</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://s3.amazonaws.com/kinlane-productions/api-evangelist/restlet/fireworks-story/restlet-fireworks-1.png" alt="" width="624px;" height="471px;" /></p>
<p>&nbsp;</p>
<p>So it all started with this idea of listing all the fireworks. We also wanted to let people submit ones in their area, as it&rsquo;s difficult to find each and every possible event in the whole country. That&rsquo;s why we thought it&rsquo;d be important if we could use Google Sheets to store the data, as we can let people fill in the gaps in our listings thanks to a Google Form that automatically saves data in your spreadsheet. Thankfully, <a href="http://restlet.com/products/apispark/">APISpark</a> provides a <a href="http://restlet.com/technical-resources/apispark/tutorials/turn-spreadsheet-to-api">Google Sheets wrapper</a> which allows you to expose spreadsheets as a Web API.</p>
<p>Having data served through a Web API is nice, but you won&rsquo;t cURL it to find an event nearby! You might be a geek with cURL super powers, but I doubt, say, your neighbors are able to find fireworks nearby with a Web API. Thus, you want to be able to view everything through your web browser or mobile device. Which means we had to find a way to display the data from the API through some web pages. To do so, we used an APISpark&rsquo;s <a href="http://restlet.com/technical-resources/apispark/tutorials/github">Github file store</a> which serves the content of a Github repository as a Web API&hellip; but also as a mere website with its HTML / CSS / JavaScript, like on any website on the Web. For reference, here are my <a href="https://github.com/glaforge/fireworks-assets">own assets for the fireworks API</a>. In turn, this means that your Web API can serve the associated website that goes with that API for easier human consumption &mdash; no need for finding a host and setup a server for your website!</p>
<p>Let&rsquo;s replicate this little fireworks project together!</p>
<p>I&rsquo;ll start with creating a Google Sheets document and associating it the following form, which let anyone submit new fireworks, with details about the city, state, date and time:</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://s3.amazonaws.com/kinlane-productions/api-evangelist/restlet/fireworks-story/restlet-fireworks-2.png" alt="" width="624px;" height="512px;" /></p>
<p>Your website visitors will be able to fill in a form like so:</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://s3.amazonaws.com/kinlane-productions/api-evangelist/restlet/fireworks-story/restlet-fireworks-3.png" alt="" width="624px;" height="543px;" /></p>
<p>And your spreadsheet will be updated as new entries are flowing:</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://s3.amazonaws.com/kinlane-productions/api-evangelist/restlet/fireworks-story/restlet-fireworks-4.png" alt="" width="624px;" height="267px;" /></p>
<p>The sole modification I&rsquo;ve done here is to rename the sheet to &ldquo;fireworks&rdquo;, but you can also do that later on when configuring the Google Sheets wrapper&hellip; speaking of which, it&rsquo;s time to create it and import that spreadsheet in APISpark!</p>
<p>Once you&rsquo;ve <a href="http://restlet.com/products/apispark/">created an account on APISpark</a> (if you haven&rsquo;t done so yet), login, then, from the dashboard, create an &ldquo;Entity Store&rdquo; and select a Google Sheets wrapper:</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://s3.amazonaws.com/kinlane-productions/api-evangelist/restlet/fireworks-story/restlet-fireworks-5.png" alt="" width="624px;" height="545px;" /></p>
<p>You&rsquo;ll be asked to select a Google account (the one with which you&rsquo;ve created the spreadsheet), then select the spreadsheet document you&rsquo;ve created for that purpose.</p>
<p>You&rsquo;ll see that the import of the spreadsheet succeeded, and that some normalization has been done to the name of the properties of your entities, corresponding to the questions of the form (as the column names of the spreadsheet contained special characters like spaces of question marks).</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://s3.amazonaws.com/kinlane-productions/api-evangelist/restlet/fireworks-story/restlet-fireworks-6.png" alt="fireworks-6.png" width="624px;" height="391px;" /></p>
<p>As those property names will be appearing in the resulting Web API we&rsquo;re going to create next, I&rsquo;ve gone the extra step of going through each property to rename them to more succinct names (state, city, date, time):</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://s3.amazonaws.com/kinlane-productions/api-evangelist/restlet/fireworks-story/restlet-fireworks-7.png" alt="" width="624px;" height="496px;" /></p>
<p>Now is the time to deploy this first &ldquo;Cell&rdquo; so that it can be made available and imported into our future API (just click the &ldquo;Deploy&rdquo; button).</p>
<p>If you click on the little cog button in the top right hand corner, near the &ldquo;Deploy&rdquo; button, you can export a Web API from this data store directly, so that the API is pre-configured to import it:</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://s3.amazonaws.com/kinlane-productions/api-evangelist/restlet/fireworks-story/restlet-fireworks-8.png" alt="" width="624px;" height="601px;" /></p>
<p>I&rsquo;ve checked the &ldquo;Read-only API&rdquo; checkbox (as modifications are done only through the Google Sheets interface), and I&rsquo;ve selected &ldquo;No authentication required&rdquo; for the &ldquo;Default permissions&rdquo; as we don&rsquo;t need authentication here.</p>
<p>Your Web API is ready, and you can see the resource and representation for corresponding to our fireworks sheet:</p>
<p><img src="https://s3.amazonaws.com/kinlane-productions/api-evangelist/restlet/fireworks-story/restlet-fireworks-9.png" alt="" width="100%" /></p>
<p>The Web API is functional, if you deploy it, you&rsquo;ll be able to make calls to it with <a href="http://curl.haxx.se/">cURL</a> or <a href="https://github.com/jakubroztocil/httpie">httpie</a>:</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://s3.amazonaws.com/kinlane-productions/api-evangelist/restlet/fireworks-story/restlet-fireworks-10.png" alt="" width="624px;" height="504px;" /></p>
<p>Alright, but we said earlier that mere mortals are not cURL warriors, are they? So let&rsquo;s make a light web frontend on top of that. We don&rsquo;t want the hassle of finding a host for our website, of dealing with the server, or anything of that sort. That&rsquo;s why we&rsquo;re going to let APISpark host the web assets too, thanks to a Github file store! The HTML / CSS / JavaScript / image assets can be served as part of the API.</p>
<p>Go back to the dashboard, and click the &ldquo;Create file store&rdquo; button to create a file store, selecting the Github flavor:</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://s3.amazonaws.com/kinlane-productions/api-evangelist/restlet/fireworks-story/restlet-fireworks-11.png" alt="" width="624px;" height="381px;" /></p>
<p>In the &ldquo;Settings&rdquo; tab, you&rsquo;ll fill in your credentials to access Github, and add an &ldquo;Import&rdquo; pointing at your Github repository containing your web assets:</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://s3.amazonaws.com/kinlane-productions/api-evangelist/restlet/fireworks-story/restlet-fireworks-12.png" alt="" width="624px;" height="279px;" /></p>
<p>When configured, you&rsquo;ll have to deploy your cell to make it usable. Then, heading back to your Web API cell, you&rsquo;ll be able to add a new import, in the &ldquo;Settings &gt; Imports&rdquo; section:</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://s3.amazonaws.com/kinlane-productions/api-evangelist/restlet/fireworks-story/restlet-fireworks-13.png" alt="" width="624px;" height="332px;" /></p>
<p>Now the API will contain two imports: one for the Google Sheets wrapper, and this new one for the Github file store.</p>
<p>I haven&rsquo;t detailed it yet, but what will your Github repository will be looking like? You&rsquo;ll have to create folders for the various categories of assets that you have. In my online fireworks demo, I had created an &ldquo;html&rdquo;, &ldquo;css&rdquo;, &ldquo;javascript&rdquo;, and &ldquo;images&rdquo; folders. For the sake of simplicity here, I&rsquo;ll just create an &ldquo;html&rdquo; folder, and put an &ldquo;index.html&rdquo; file that will contain the following HTML and JavaScript code:</p>
<script src="https://gist.github.com/kinlane/5d3a857b88897f621bf5.js"></script>
<p>This page will be served at <a href="https://fireworks.apispark.net/v1/html/index.html">https://fireworks.apispark.net/v1/html/index.html</a> by APISpark. I&rsquo;m using JQuery to call my API, and you will see this simple output in your web browser:</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://s3.amazonaws.com/kinlane-productions/api-evangelist/restlet/fireworks-story/restlet-fireworks-14.png" alt="" width="624px;" height="199px;" /></p>
<p>Nothing really fancy, but &ldquo;<a href="https://en.wikipedia.org/wiki/Q.E.D.">Q.E.D.</a>&rdquo; That&rsquo;s what we had to demonstrate: a Web API delivering data off of a Google Sheets document, but also serving the web assets to offer a UI frontend to interact with that API. No need to host that website elsewhere on some server in the cloud, everything can be done and served through APISpark easily. Having setup Google Sheets for the data makes it easy for non-technical persons to contribute new content and data for your database of fireworks. APISpark then takes care of both exposing a reusable Web API, as well as serving a website to share your nice listing of fireworks to the world!</p>
<p><em><strong>Disclosure:</strong> Restlet is an API Evangelist partner.</em></p>